import{r as B,a as _,o as c,c as g,b as r,w as a,d as m,u as C,X as D,E as f,e as w,p as R,f as U}from"./index.f968eb52.js";import{E as $,a as N}from"./el-form-item.f25c68e7.js";import{E as S,a as b}from"./el-input.2c9c0d13.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";import"./index.9aeab12a.js";const P={class:"form"},X={__name:"Form",setup(d){const p=C(),u=B(),E=(t,e,s)=>{if(e==="")s(new Error("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\uFF01\uFF01\uFF01"));else{if(e.length>10||e.length<5){s(new Error("\u7528\u6237\u540D\u957F\u5EA65-10\u4F4D\uFF01\uFF01\uFF01"));return}s()}},h=(t,e,s)=>{if(e==="")s(new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01\uFF01\uFF01"));else{if(e.length>10||e.length<5){s(new Error("\u5BC6\u7801\u957F\u5EA65-10\u4F4D\uFF01\uFF01\uFF01"));return}s()}},v=(t,e,s)=>{if(e==="")s(new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01\uFF01\uFF01"));else{if(e.length>10||e.length<5){s(new Error("\u5BC6\u7801\u957F\u5EA65-10\u4F4D\uFF01\uFF01\uFF01"));return}if(e!==o.password){s(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u76F8\u540C\uFF01\uFF01\uFF01"));return}s()}},o=_({username:"",password:"",password2:""}),V=_({username:[{validator:E,trigger:"change"}],password:[{validator:h,trigger:"change"}],password2:[{validator:v,trigger:"change"}]}),y=t=>{!t||t.validate(e=>{if(e)console.log("submit!"),D.post({url:"/user/register",data:{username:o.username,password:o.password}}).then(s=>{let n=s.data;n.status?(f({message:"\u6CE8\u518C\u6210\u529F\uFF01\uFF01\uFF01",type:"success"}),p.replace("/login")):f.error(n.message)}).catch(s=>{console.log(s)});else return console.log("error submit!"),!1})},x=t=>{!t||t.resetFields()},F=()=>{p.replace("/login")};return(t,e)=>{const s=S,n=$,i=b,I=N;return c(),g("div",P,[r(I,{ref_key:"formDataRef",ref:u,model:o,"status-icon":"",rules:V,"label-width":"100px",class:"demo-formData"},{default:a(()=>[r(n,{label:"\u8D26\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u53F7\uFF1A",prop:"username"},{default:a(()=>[r(s,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=l=>o.username=l)},null,8,["modelValue"])]),_:1}),r(n,{label:"\u5BC6\xA0\xA0\xA0\xA0\xA0\xA0\xA0\u7801\uFF1A",prop:"password"},{default:a(()=>[r(s,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.password=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),r(n,{label:"\u91CD\u590D\u5BC6\u7801\uFF1A",prop:"password2"},{default:a(()=>[r(s,{modelValue:o.password2,"onUpdate:modelValue":e[2]||(e[2]=l=>o.password2=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1}),r(n,null,{default:a(()=>[r(i,{type:"primary",onClick:e[3]||(e[3]=l=>y(u.value))},{default:a(()=>[m("\u6CE8\u518C")]),_:1}),r(i,{onClick:e[4]||(e[4]=l=>x(u.value))},{default:a(()=>[m("\u91CD\u7F6E")]),_:1}),r(i,{onClick:F},{default:a(()=>[m("\u767B\u5F55\u754C\u9762")]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}};const j=d=>(R("data-v-2c714850"),d=d(),U(),d),q={class:"register"},M={style:{"margin-top":"-5%"}},T=j(()=>w("h1",null,"\u6CE8\u518C\u754C\u9762",-1)),W={__name:"register",setup(d){return(p,u)=>(c(),g("div",q,[w("div",M,[T,r(X)])]))}},K=L(W,[["__scopeId","data-v-2c714850"]]);export{K as default};
