import{_ as m,u as w,r as d,l as i,o as p,c as f,a as s,w as c,b as r,d as N,s as o,X as k}from"./index-ccedb79d.js";import{F as B,B as F}from"./index-b02c297f.js";import{C as I,F as S}from"./index-5c2e158a.js";import"./use-route-e010548b.js";const $={class:"form"},j={style:{margin:"16px"}},q={__name:"form",setup(v){const n=w(),e=d(""),t=d(""),g=async()=>{if(e.value.trim(),t.value.trim(),e.value.length<5||e.value.length>10||t.value.length<5||t.value.length>10)o("用户名和密码的长度为5-10~");else{if(!/^[\da-z]+$/i.test(e.value)){o("用户名由字母或数字组成~");return}const a=await k.post({url:"/user/login2",data:{username:e.value,password:t.value}});a.data.status?(o({type:"success",message:"登陆成功~"}),i.setCache("userInfo2",JSON.stringify(a.data)),e.value="",t.value="",n.replace("/main")):o(a.data)}},h=()=>{n.replace("/register")};let l=i.getCache("userInfo2");l=l===void 0?void 0:JSON.parse(l);const y=()=>{l===void 0?o("请先登录~"):n.replace("/main")};return(V,a)=>{const _=B,x=I,b=F,C=S;return p(),f("div",$,[s(C,{onSubmit:g},{default:c(()=>[s(x,{inset:""},{default:c(()=>[s(_,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value=u),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),s(_,{modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=u=>t.value=u),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),r("div",j,[s(b,{round:"",block:"",type:"primary","native-type":"submit"},{default:c(()=>[N(" 登录 ")]),_:1})])]),_:1}),r("div",{class:"jump"},[r("a",{href:"javascript:0",onClick:h},"注册界面"),r("a",{href:"javascript:0",style:{"margin-left":"20px"},onClick:y},"首页界面")])])}}},J=m(q,[["__scopeId","data-v-355da9fc"]]);const O={class:"login"},R={__name:"login",setup(v){return(n,e)=>(p(),f("div",O,[s(J)]))}},G=m(R,[["__scopeId","data-v-5563d553"]]);export{G as default};
