import{_ as m,u as C,r as i,l as F,o as p,c as v,a as l,w as _,b as d,d as k,s as o,X as B}from"./index-ccedb79d.js";import{F as N,B as q}from"./index-b02c297f.js";import{C as I,F as $}from"./index-5c2e158a.js";import"./use-route-e010548b.js";const j={class:"form"},S={style:{margin:"16px"}},U={__name:"Form",setup(f){const n=C(),a=i(""),s=i(""),t=i(""),g=async()=>{if(a.value.trim(),s.value.trim(),t.value.trim(),a.value.length<5||a.value.length>10||s.value.length<5||s.value.length>10||t.value.length<5||t.value.length>10)o("用户名或密码的长度为5-10~");else if(s.value!==t.value)o("密码和重复密码不一致~");else{if(!/^[\da-z]+$/i.test(a.value)){o("用户名由字母或数字组成~");return}const e=await B.post({url:"/user/register2",data:{username:a.value,password:s.value}});e.data.status?(o({type:"success",message:e.data.message}),a.value="",s.value="",t.value="",n.replace("/login")):o(e.data.message)}},h=()=>{n.replace("/login")};let u=F.getCache("userInfo2");u=u===void 0?void 0:JSON.parse(u);const y=()=>{u===void 0?o("请先登录~"):n.replace("/main")};return(V,e)=>{const c=N,x=I,b=q,w=$;return p(),v("div",j,[l(w,{onSubmit:g},{default:_(()=>[l(x,{inset:""},{default:_(()=>[l(c,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),l(c,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),l(c,{modelValue:t.value,"onUpdate:modelValue":e[2]||(e[2]=r=>t.value=r),type:"password",name:"重复密码",label:"重复密码",placeholder:"重复密码",rules:[{required:!0,message:"请填写重复密码"}]},null,8,["modelValue"])]),_:1}),d("div",S,[l(b,{round:"",block:"",type:"primary","native-type":"submit"},{default:_(()=>[k(" 注册 ")]),_:1})])]),_:1}),d("div",{class:"jump"},[d("a",{href:"javascript:0",onClick:h},"登录界面"),d("a",{href:"javascript:0",style:{"margin-left":"20px"},onClick:y},"首页界面")])])}}},R=m(U,[["__scopeId","data-v-ec08d457"]]);const X={class:"register"},z={__name:"register",setup(f){return(n,a)=>(p(),v("div",X,[l(R)]))}},O=m(z,[["__scopeId","data-v-f6e10375"]]);export{O as default};
