import{r as s,o as k,c as w,e as f,b as o,w as r,d as g,I as v,Q as V,X as b,E as y}from"./index.f968eb52.js";import{E as q,I as B,T as C}from"./Input.3c02c44f.js";import{a as D}from"./el-input.2c9c0d13.js";import{U as N}from"./Upload.fe7fc595.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";import"./el-popper.72ab3a86.js";import"./index.9aeab12a.js";const S={class:"photo"},T={style:{display:"flex"}},U={__name:"photo",setup(j){const n=s(!1),h=a=>{a()},x=s(".png,.jpeg,.jpg"),E=s("\u8BF7\u8F93\u5165\u7528\u6237\u540D~"),u=s(null),I=a=>{u.value.currentPage=1,d(1,a)};let c=s();const m=async()=>{const a=await b.get({url:"/common/getSum",params:{tableName:"file",type:"image"}});if(!a.data.status){y.error(a.data.message);return}c.value=a.data.message.sum};m();let _=s([]);const i=async(a=10,e=0,l)=>{l!==void 0?c.value=10:m();const t=await b.get({url:"/file/getFileInfo",params:{type:"image",inputVal:l,limit:a,offset:e}});if(!t.data.status){y.error(t.data.message);return}_.value=t.data.message};i();const d=(a=u.value.currentPage,e)=>{e=e===""?void 0:e;let l=s(10),t=s(0);a!==1&&(t.value=t.value+l.value*(a-1)),m(),e===void 0?i(l.value,t.value):i(1e3,t.value,e)};return(a,e)=>{const l=D,t=q;return k(),w(V,null,[f("div",S,[f("div",T,[o(B,{onSearch:I,placeholderVal:E.value},null,8,["placeholderVal"]),o(l,{style:{"margin-left":"10px","margin-top":"10px"},type:"primary",onClick:e[0]||(e[0]=p=>n.value=!0)},{default:r(()=>[g("\u4E0A\u4F20")]),_:1})]),o(C,{ref_key:"tableEl",ref:u,tableData:v(_),onAgainRequest:d,sum:v(c)},null,8,["tableData","sum"])]),o(t,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=p=>n.value=p),title:"\u4E0A\u4F20\u754C\u9762",width:"30%","before-close":h},{footer:r(()=>[f("span",null,[o(l,{onClick:e[1]||(e[1]=p=>n.value=!1)},{default:r(()=>[g("\u53D6\u6D88")]),_:1})])]),default:r(()=>[o(N,{onAgainRequest:d,accept:x.value},null,8,["accept"])]),_:1},8,["modelValue"])],64)}}},Q=R(U,[["__scopeId","data-v-1a67bc30"]]);export{Q as default};
