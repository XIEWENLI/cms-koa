import{e as C,t as k,n as g,O as $,f as I,r as V,U as O,a as r,Y as R,W as N,Z as E,k as w,h as M,q as j,F as z,g as D,$ as F,S as K,D as U,I as Y,_ as Z,u as q,a0 as W,K as G,a1 as H,o as J,c as L,b as Q,w as _,d as h}from"./index-ccedb79d.js";import{u as X}from"./use-placeholder-46a67666.js";import{r as ee,u as ae}from"./use-route-e010548b.js";const[y,B]=C("tabbar"),te={route:Boolean,fixed:k,border:k,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:$(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(y);var ne=I({name:y,props:te,emits:["change","update:modelValue"],setup(e,{emit:c,slots:s}){const n=V(),{linkChildren:v}=O(A),l=X(n,B),i=()=>{var a;return(a=e.safeAreaInsetBottom)!=null?a:e.fixed},o=()=>{var a;const{fixed:t,zIndex:u,border:f}=e;return r("div",{ref:n,role:"tablist",style:R(u),class:[B({fixed:t}),{[N]:f,"van-safe-area-bottom":i()}]},[(a=s.default)==null?void 0:a.call(s)])};return v({props:e,setActive:(a,t)=>{E(e.beforeChange,{args:[a],done(){c("update:modelValue",a),c("change",a),t()}})}}),()=>e.fixed&&e.placeholder?l(o):o()}});const oe=w(ne),[re,x]=C("tabbar-item"),ce=M({},ee,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var se=I({name:re,props:ce,emits:["click"],setup(e,{emit:c,slots:s}){const n=ae(),v=j().proxy,{parent:l,index:i}=z(A);if(!l)return;const o=D(()=>{var t;const{route:u,modelValue:f}=l.props;if(u&&"$route"in v){const{$route:p}=v,{to:b}=e,m=U(b)?b:{path:b};return!!p.matched.find(P=>{const S="path"in m&&m.path===P.path,T="name"in m&&m.name===P.name;return S||T})}return((t=e.name)!=null?t:i.value)===f}),d=t=>{var u;o.value||l.setActive((u=e.name)!=null?u:i.value,n),c("click",t)},a=()=>{if(s.icon)return s.icon({active:o.value});if(e.icon)return r(Y,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var t;const{dot:u,badge:f}=e,{activeColor:p,inactiveColor:b}=l.props,m=o.value?p:b;return r("div",{role:"tab",class:x({active:o.value}),style:{color:m},tabindex:0,"aria-selected":o.value,onClick:d},[r(F,K({dot:u,class:x("icon"),content:f},e.badgeProps),{default:a}),r("div",{class:x("text")},[(t=s.default)==null?void 0:t.call(s,{active:o.value})])])}}});const le=w(se);const ie={class:"main"},ue={__name:"main",setup(e){const c=q(),s=W(),n=V(0);switch(s.fullPath){case"/main/photo":n.value=0;break;case"/main/video":n.value=1;break;case"/main/user":n.value=2;break;default:n.value=0}return G(()=>n.value,(l,i)=>{switch(l){case 0:c.replace("/main/photo");break;case 1:c.replace("/main/video");break;case 2:c.replace("/main/user");break;default:c.replace("/login")}}),(l,i)=>{const o=H("router-view"),d=le,a=oe;return J(),L("div",ie,[r(o),Q("div",null,[r(a,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=t=>n.value=t)},{default:_(()=>[r(d,{icon:"photo-o"},{default:_(()=>[h("图片")]),_:1}),r(d,{icon:"video-o"},{default:_(()=>[h("视频")]),_:1}),r(d,{icon:"friends-o"},{default:_(()=>[h("用户")]),_:1})]),_:1},8,["modelValue"])])])}}},fe=Z(ue,[["__scopeId","data-v-002bdfeb"]]);export{fe as default};
