import{r as s,o as k,c as w,e as p,b as o,w as r,d as _,I as g,Q as I,X as y,E as b}from"./index.7f1d74f8.js";import{E as q,I as B,T as C}from"./Input.9c26258b.js";import{a as D}from"./el-input.5ce1a2e4.js";import{U as N}from"./Upload.c97896fe.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";import"./el-popper.7b3909ad.js";import"./index.96700c02.js";const S={class:"video"},T={style:{display:"flex"}},U={__name:"video",setup(A){const n=s(!1),x=a=>{a()},E=s(".mp4"),V=s("\u8BF7\u8F93\u5165\u7528\u6237\u540D~"),u=s(null),h=a=>{u.value.currentPage=1,m(1,a)};let d=s();const i=async()=>{const a=await y.get({url:"/common/getSum",params:{tableName:"file",type:"video"}});if(!a.data.status){b.error(a.data.message);return}d.value=a.data.message.sum};i();let v=s([]);const c=async(a=10,e=0,l)=>{l!==void 0?d.value=10:i();const t=await y.get({url:"/file/getFileInfo",params:{type:"video",limit:a,offset:e,inputVal:l}});if(!t.data.status){b.error(t.data.message);return}v.value=t.data.message};c();const m=(a=u.value.currentPage,e)=>{e=e===""?void 0:e;let l=s(10),t=s(0);a!==1&&(t.value=t.value+l.value*(a-1)),i(),e===void 0?c(l.value,t.value):c(5e3,t.value,e)};return(a,e)=>{const l=D,t=q;return k(),w(I,null,[p("div",S,[p("div",T,[o(B,{onSearch:h,placeholderVal:V.value},null,8,["placeholderVal"]),o(l,{style:{"margin-left":"10px","margin-top":"10px"},type:"primary",onClick:e[0]||(e[0]=f=>n.value=!0)},{default:r(()=>[_("\u4E0A\u4F20")]),_:1})]),o(C,{ref_key:"tableEl",ref:u,tableData:g(v),onAgainRequest:m,sum:g(d)},null,8,["tableData","sum"])]),o(t,{modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=f=>n.value=f),title:"\u4E0A\u4F20\u754C\u9762",width:"30%","before-close":x},{footer:r(()=>[p("span",null,[o(l,{onClick:e[1]||(e[1]=f=>n.value=!1)},{default:r(()=>[_("\u53D6\u6D88")]),_:1})])]),default:r(()=>[o(N,{onAgainRequest:m,accept:E.value},null,8,["accept"])]),_:1},8,["modelValue"])],64)}}},W=R(U,[["__scopeId","data-v-8819a2c0"]]);export{W as default};
